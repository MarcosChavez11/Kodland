import discord
import random, os, requests
from discord.ext import commands

intents = discord.Intents.default()
intents.message_content = True

bot = commands.Bot(command_prefix="+", intents=intents, help_command=None)

@bot.event
async def on_ready():
    print(f'Hemos iniciado sesi√≥n como {bot.user}')

# Datos de descomposici√≥n de objetos
decomposition_times = {
    "botella de pl√°stico": "500 a√±os",
    "papel": "2 a 6 semanas",
    "lata de aluminio": "200 a√±os",
    "colilla de cigarro": "10 a√±os",
    "vidrio": "4,000 a√±os o m√°s"
}

@bot.command(name="descomposicion")
async def descomposicion(ctx, *, objeto: str):
    tiempo = decomposition_times.get(objeto.lower(), "No tengo informaci√≥n sobre ese objeto.")
    await ctx.send(f"‚ôªÔ∏è El objeto **{objeto}** tarda aproximadamente **{tiempo}** en descomponerse.")

# Alternativas ecol√≥gicas
eco_alternatives = {
    "bolsas de pl√°stico": "Bolsas reutilizables de tela o papel reciclado.",
    "botella de pl√°stico": "Botellas reutilizables de acero inoxidable o vidrio.",
    "pajillas de pl√°stico": "Pajillas de bamb√∫ o acero inoxidable.",
    "envolturas de pl√°stico": "Envolturas de cera de abeja reutilizables.",
    "pa√±ales desechables": "Pa√±ales de tela reutilizables."
}

@bot.command(name="alternativa")
async def alternativa(ctx, *, producto: str):
    alternativa = eco_alternatives.get(producto.lower(), "No tengo una alternativa registrada para ese producto.")
    await ctx.send(f"üå± En lugar de **{producto}**, puedes usar: **{alternativa}**")

# Pasos para reparar objetos
repair_steps = {
    "zapatillas rotas": "1Ô∏è‚É£ Limpia la zona da√±ada.\n2Ô∏è‚É£ Usa pegamento fuerte o costura resistente.\n3Ô∏è‚É£ D√©jalo secar antes de usar nuevamente.",
    "celular con pantalla rota": "1Ô∏è‚É£ Eval√∫a si el da√±o es superficial o grave.\n2Ô∏è‚É£ Compra un kit de reparaci√≥n o ll√©valo a un t√©cnico.\n3Ô∏è‚É£ Protege la nueva pantalla con un protector de vidrio templado.",
    "mueble de madera rayado": "1Ô∏è‚É£ Lija suavemente la superficie.\n2Ô∏è‚É£ Aplica cera o barniz seg√∫n el acabado original.\n3Ô∏è‚É£ Pule hasta que la superficie quede uniforme."
}

@bot.command(name="reparar")
async def reparar(ctx, *, objeto: str):
    pasos = repair_steps.get(objeto.lower(), "No tengo instrucciones de reparaci√≥n para ese objeto.")
    await ctx.send(f"üõ†Ô∏è Para reparar **{objeto}**, sigue estos pasos:\n{pasos}")

@bot.command(name="meme")
async def memeecologico(ctx):
    x= os.listdir("imageecologico")
    y= random.choice(x)
    with open(f'imageecologico/{y}', 'rb') as f:
        picture = discord.File(f)
    await ctx.send(file=picture)

@bot.command(name="help")
async def help_command(ctx):
    help_text = (
        "**Lista de comandos disponibles:**\n"
        "`+descomposicion [objeto]` - Muestra el tiempo de descomposici√≥n de un objeto.\n"
        "`+alternativa [producto]` - Sugiere una alternativa ecol√≥gica para un producto.\n"
        "`+reparar [objeto]` - Proporciona pasos para reparar un objeto y evitar desecharlo.\n"
        "`+meme` - Env√≠a un meme ecol√≥gico al azar.\n"
    )
    await ctx.send(help_text)

bot.run("TU TOKEN VA AQU√ç")
